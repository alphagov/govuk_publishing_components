{
  "version": 3,
  "sources": ["../javascripts/govuk_publishing_components/modules/details.js"],
  "sourcesContent": ["class GemDetails {\n  constructor($module) {\n    this.$module = $module\n    this.$summary = this.$module.querySelector('.govuk-details__summary')\n\n    this.customTrackLabel = this.$summary.getAttribute('data-track-label')\n    this.detailsClick = this.$module.querySelector('[data-details-track-click]')    \n  }\n\n  init() {\n    if (this.customTrackLabel) { // If a custom label has been provided, we can simply call the tracking module\n      var trackDetails = new window.GOVUK.Modules.GemTrackClick(this.$summary)\n      trackDetails.init()\n    } else if (this.detailsClick) { // If no custom label is set, we use the open/close status as the label\n      this.detailsClick.addEventListener('click', function (event) {\n        this.trackDefault(this.$summary)\n      }.bind(this))\n    }\n  }\n\n  trackDefault(element) {\n    if (window.GOVUK.analytics && window.GOVUK.analytics.trackEvent) {\n      var componentStatus = (this.$module.getAttribute('open') == null) ? 'open' : 'closed'\n      var trackCategory = element.getAttribute('data-track-category')\n      var trackAction = element.getAttribute('data-track-action')\n      var trackOptions = element.getAttribute('data-track-options')\n\n      if (trackOptions) {\n        trackOptions = JSON.parse(trackOptions)\n      }\n\n      if (typeof trackOptions !== 'object' || trackOptions === null) {\n        trackOptions = {}\n      }\n\n      trackOptions.label = componentStatus\n\n      if (trackAction && trackCategory) {\n        window.GOVUK.analytics.trackEvent(trackCategory, trackAction, trackOptions)\n      }\n    }\n  }\n}\n\nexport default GemDetails;\n"],
  "mappings": ";;AAAA,MAAM,aAAN,MAAiB;AAAA,IACf,YAAY,SAAS;AACnB,WAAK,UAAU;AACf,WAAK,WAAW,KAAK,QAAQ,cAAc,yBAAyB;AAEpE,WAAK,mBAAmB,KAAK,SAAS,aAAa,kBAAkB;AACrE,WAAK,eAAe,KAAK,QAAQ,cAAc,4BAA4B;AAAA,IAC7E;AAAA,IAEA,OAAO;AACL,UAAI,KAAK,kBAAkB;AACzB,YAAI,eAAe,IAAI,OAAO,MAAM,QAAQ,cAAc,KAAK,QAAQ;AACvE,qBAAa,KAAK;AAAA,MACpB,WAAW,KAAK,cAAc;AAC5B,aAAK,aAAa,iBAAiB,SAAS,SAAU,OAAO;AAC3D,eAAK,aAAa,KAAK,QAAQ;AAAA,QACjC,EAAE,KAAK,IAAI,CAAC;AAAA,MACd;AAAA,IACF;AAAA,IAEA,aAAa,SAAS;AACpB,UAAI,OAAO,MAAM,aAAa,OAAO,MAAM,UAAU,YAAY;AAC/D,YAAI,kBAAmB,KAAK,QAAQ,aAAa,MAAM,KAAK,OAAQ,SAAS;AAC7E,YAAI,gBAAgB,QAAQ,aAAa,qBAAqB;AAC9D,YAAI,cAAc,QAAQ,aAAa,mBAAmB;AAC1D,YAAI,eAAe,QAAQ,aAAa,oBAAoB;AAE5D,YAAI,cAAc;AAChB,yBAAe,KAAK,MAAM,YAAY;AAAA,QACxC;AAEA,YAAI,OAAO,iBAAiB,YAAY,iBAAiB,MAAM;AAC7D,yBAAe,CAAC;AAAA,QAClB;AAEA,qBAAa,QAAQ;AAErB,YAAI,eAAe,eAAe;AAChC,iBAAO,MAAM,UAAU,WAAW,eAAe,aAAa,YAAY;AAAA,QAC5E;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,MAAO,kBAAQ;",
  "names": []
}
