<% navigation = GovukPublishingComponents::Presenters::ContextualNavigation.new(content_item, request.path) %>

<% if navigation.step_nav_helper.show_header? %>
  <!-- Rendering step by step nav -->
  <%= render 'govuk_publishing_components/components/step_by_step_nav_header', navigation.step_nav_helper.header %>
<% else %>
  <% if navigation.should_present_taxonomy_navigation? %>
    <!-- Rendering taxonomy breadcrumbs -->
    <% if navigation.taxon_breadcrumbs.any? %>
      <%= render 'govuk_component/breadcrumbs',
        breadcrumbs: navigation.taxon_breadcrumbs[:breadcrumbs],
        collapse_on_mobile: true %>
    <% end %>
  <% else %>
    <!-- Rendering normal breadcrumbs -->
    <% if navigation.breadcrumbs.any? %>
      <%= render 'govuk_component/breadcrumbs', breadcrumbs: navigation.breadcrumbs %>
    <% end %>
  <% end %>
<% end %>
