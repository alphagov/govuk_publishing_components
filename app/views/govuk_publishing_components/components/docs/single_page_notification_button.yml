name: Single page notification button
description: A button that subscribes the user to email notifications to a page
body: |
  By default, the component displays with the "Get emails about this page" state. The component does not render without the `base_path` parameter.

  The `base_path` is necessary for [checking if an email subscription is active on page load](https://github.com/alphagov/account-api/blob/main/docs/api.md#get-apipersonalisationcheck-email-subscriptiontopic_slug) and the creation/deletion of an email notification subscription.

  When the button is clicked, the `base_path` is submitted to an endpoint which proceeds to check the user's authentication status and whether they are already subscribed to the page or not. Depending on these factors, they will be routed accordingly.
accessibility_criteria: |
  - The bell icon must be presentational and ignored by screen readers.
examples:
  default:
    description: By default this component prompts the user to subscribe to email notifications to this page.
    data:
      base_path: '/current-page-path'
  already_subscribed:
    description: If the user has already subscribed to email notifications about the current page, display the "Stop getting emails about this page" state.
    data:
      base_path: '/current-page-path'
      already_subscribed: true
  with_data_attributes:
    description: The component accepts data attributes (for example, for analytics)
    data:
      base_path: '/current-page-path'
      data_attributes:
        category: fancyButtons
  with_margin_bottom:
    description: |
      The component accepts a number for margin bottom from 0 to 9 (0px to 60px) using the [GOV.UK Frontend spacing scale](https://design-system.service.gov.uk/styles/spacing/#the-responsive-spacing-scale). It defaults to having a margin bottom of 15px.
    data:
      base_path: '/current-page-path'
      margin_bottom: 5
