name: Contextual sidebar
description: Sidebar that shows different things depending on the page
body: |
  This is a component that calls other components. For more accurate
  preview with real data, see the [contextual navigation preview][preview].

  There are 2 variants of the component:

  - Step by step, which uses the [step by step nav][step-by-step]
  - Related navigation, which uses the [related navigation component][related_navigation] in the context of a sidebar

  It must always be used [with the contextual breadcrumbs component][contextual_breadcrumbs].

  [preview]: /contextual-navigation
  [step-by-step]: /component-guide/step_by_step_nav
  [related_navigation]: /component-guide/related_navigation
  [contextual_breadcrumbs]: /component-guide/contextual_breadcrumbs
accessibility_criteria: |
  Components called by this component must be accessible
examples:
  default:
    description: Display collections, guides, quick links, ordered related items and related mainstream content.
    data:
      content_item:
        title: "A content item"
        links:
          ordered_related_items:
          - title: Find an apprenticeship
            base_path: /apply-apprenticeship
          - title: Training and study at work
            base_path: /training-study-work-your-rights
          - title: Careers helpline for teenagers
            base_path: /careers-helpline-for-teenagers
          document_collections:
          - title: Recruit an apprentice (formerly apprenticeship vacancies)
            base_path: /government/collections/apprenticeship-vacancies
            document_type: document_collection
          - title: The future of jobs and skills
            base_path: /government/collections/the-future-of-jobs-and-skills
            document_type: document_collection
  with_part_of_step_by_step:
    data:
      content_item:
        title: "A content item"
        links:
          part_of_step_navs:
            - title: "Choosing a micropig or micropug: step by step"
              base_path: "/micropigs-vs-micropugs"
            - title: "Walk your micropig: step by step"
              base_path: "/porgs-step-by-step"
          ordered_related_items:
            - title: "Find an apprenticeship"
              base_path: "/apply-apprenticeship"
  with_current_step_by_step:
    data:
      content_item:
        title: "A content item"
        links:
          part_of_step_navs:
            - title: "Learn to drive a car: step by step"
              base_path: "/micropigs-vs-micropugs"
              details:
                step_by_step_nav:
                  title: 'Stay in the UK after it leaves the EU (''settled status''): step by step'
                  steps:
                  - title: Check you're allowed to drive
                    contents:
                    - type: paragraph
                      text: Most people can start learning to drive when they’re 17.
                    - type: list
                      contents:
                      - text: Check what age you can drive
                        href: "/vehicles-can-drive"
                    optional: false
                  - title: Testing the and
                    logic: and
                    contents:
                    - type: paragraph
                      text: hello hello what's UP
                  - title: Driving lessons and practice
                    contents:
                    - type: paragraph
                      text: You need a provisional driving licence to take lessons or practice.
                    - type: list
                      contents:
                      - text: The Highway Code
                        href: "/guidance/the-highway-code"
                    optional: false
  with_ukraine_cta:
    description: For documents tagged to the Ukraine topical event we show a custom 'Ukraine Invasion' call to action element.
    data:
      content_item:
        title: "UK forces arrive to reinforce NATO’s eastern flank"
        content_id: "a342fd46-d801-4c1e-9d8f-f41fba6da563"
        locale: "en"
        links:
          ordered_related_items:
          - title: Protecting the UK and promoting a Global Britain
            base_path: "/government/collections/protecting-the-uk-and-promoting-a-global-britain"
            locale: "en"
          topical_events:
            - content_id: "bfa79635-ffda-4b5d-8266-a9cd3a03649c"
              title: "Russian invasion of Ukraine: UK government response"
              base_path: "/government/topical-events/russian-invasion-of-ukraine-uk-government-response"
              locale: "en"
  with_ukraine_cta_except_not:
    data:
      content_item:
        title: "UK forces arrive to reinforce NATO’s eastern flank"
        content_id: "3"
        locale: "en"
        links:
          ordered_related_items:
          - title: Protecting the UK and promoting a Global Britain
            base_path: "/government/collections/protecting-the-uk-and-promoting-a-global-britain"
            locale: "en"
          topical_events:
            - content_id: "bfa79635-ffda-4b5d-8266-a9cd3a03649c"
              title: "Russian invasion of Ukraine: UK government response"
              base_path: "/government/topical-events/russian-invasion-of-ukraine-uk-government-response"
              locale: "en"
  with_ga4_tracking_on_related_navigation:
    description: Applies Google Analytics 4 tracking to the related navigation variant of the sidebar.
    data:
      ga4_tracking: true
      content_item:
        links:
          ordered_related_items:
          - title: Find an apprenticeship
            base_path: /apply-apprenticeship
          - title: Training and study at work
            base_path: /training-study-work-your-rights
          - title: Careers helpline for teenagers
            base_path: /careers-helpline-for-teenagers
          document_collections:
          - title: Recruit an apprentice (formerly apprenticeship vacancies)
            base_path: /government/collections/apprenticeship-vacancies
            document_type: document_collection
          - title: The future of jobs and skills
            base_path: /government/collections/the-future-of-jobs-and-skills
            document_type: document_collection
          topical_events:
            - content_id: "bfa79635-ffda-4b5d-8266-a9cd3a03649c"
              title: "Russian invasion of Ukraine: UK government response"
              base_path: "/government/topical-events/russian-invasion-of-ukraine-uk-government-response"
              locale: "en"
        details:
          external_related_links:
            - url: "http://media.slc.co.uk/sfe/1718/ft/sfe_terms_and_conditions_guide_1718_d.pdf"
              title: "Student loans: terms and conditions 2017 to 2018 (PDF, 136KB)"
            - title: The Student Room repaying your student loan
              url: https://www.thestudentroom.co.uk/content.php?r=5967-Repaying-your-student-loan
  with_ga4_tracking_on_step_navs:
    description: Applies Google Analytics 4 tracking to the step by step navigation variant of the sidebar.
    data:
      ga4_tracking: true
      content_item:
        links:
          part_of_step_navs:
            - title: "Learn to paint: step by step"
              base_path: "/learn-to-paint"
              details:
                step_by_step_nav:
                  title: 'Learn to paint: step by step'
                  steps:
                  - title: Get painting equipment
                    contents:
                    - type: paragraph
                      text: You need certain things in order to paint.
                    - type: list
                      contents:
                      - text: Getting paints, brushes and canvas
                        href: "/get-paints-brushes-canvas"
                    optional: false
                  - title: Choose a subject
                    contents:
                      - type: list
                        contents:
                        - text: Basic shapes and styles
                          href: "/basic-shapes-and-styles"
          topical_events:
            - content_id: "bfa79635-ffda-4b5d-8266-a9cd3a03649c"
              title: "Russian invasion of Ukraine: UK government response"
              base_path: "/government/topical-events/russian-invasion-of-ukraine-uk-government-response"
              locale: "en"
